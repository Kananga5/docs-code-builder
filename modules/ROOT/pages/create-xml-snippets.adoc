= Creating XML Snippets

include::reuse::partial$beta-banner.adoc[tag="anypoint-code-builder"] 

All Mule applications, domains, and policies are configured through an XML domain-specific language. This XML file is called the Mule Configuration file and it specifies the resources and dependencies needed to build your Mule application.

User Snippets in Anypoint Code Builder are templates that make it easier to enter repeating code patterns, such as loops or conditional statements. You can define snippets to use when configuring connectors and modules. These snippets can contain all of the needed configuration placeholders, so that you won't have to enter them manually.

== Before You Begin

* Ensure you set up your MuleSoft environment. +
See xref:setup.adoc[] for more information.

== Open User Snippets

. Navigate to *File* > *Preferences* > *Configure User Snippets* in Anypoint Code Builder, and to *Code* > *Preferences* > *Configure User Snippets* in Anypoint Code Builder Desktop.
// TO-DO: Change the following image since it only guides the reader through the web IDE. 
+
image::file-preferences-user-snippets.png["User Snippet option highlighted in the Preferences menu"]
// TO-DO: The SS shows the hamburger menu and the top menu of the web IDE, so we should update it.
. In the *Select Snippets File or Create Snippets* section type _mule-xml_.
+
image::select-snippets.png["User snippet options"]
+
image::select-mule-xml.png["mule-xml snippet highlighted in the user snippet options"]
. A new, empty snippet opens:
+
[source,xml,linenums]
--
{
	// Place your snippets for mule-xml here. Each snippet is defined under a snippet name and has a prefix, body and
	// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
	// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the
	// same ids are connected.
	// Example:
	// "Print to console": {
	// 	"prefix": "log",
	// 	"body": [
	// 		"console.log('$1');",
	// 		"$2"
	// 	],
	// 	"description": "Log output to console"
	// }
}
--
. Replace the empty snippet with the following code:
+
[source,xml,linenums]
--
{
	"Mule Flow": {
		"prefix": "muledx:flow",
		"body": [
		  "<flow name=\"${1:$TM_FILENAME_BASE-Flow}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\">",
		   "",
		  "</flow>"
		]
	 },
	"HTTP Listener Config": {
		"prefix": "muledx:http-listener-config",
		"body": [
		  "<http:listener-config name=\"${1:httpListenerConfig}\" doc:name=\"${2:Listener Config}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\">",
		   "  <http:listener-connection host=\"${3:Host}\" port=\"${4:Port}\"/>",
		  "</http:listener-config>"
		]
	 },
	 "HTTP Listener": {
		"prefix": "muledx:http-listener",
		"body": [
		  "<http:listener path=\"/${1:path}\" config-ref=\"${2:httpListenerConfig}\" doc:name=\"${3:Listener}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\"/>"
		]
	 },
	 "Set Payload": {
		"prefix": "muledx:set-payload",
		"body": [
		  "<set-payload value=\"${1:#[payload]}\" doc:name=\"${2:Set Payload}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\"/>"
		]
	 },
	 "Set Variable": {
		"prefix": "muledx:set-variable",
		"body": [
		  "<set-variable variableName=\"${1:name}\" value=\"${2:#[payload]}\" doc:name=\"${3:Set Variable}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\"/>"
		]
	 },
	 "Logger": {
		"prefix": "muledx:logger",
		"body": [
		  "<logger level=\"INFO\" message=\"${1:#[payload]}\" doc:name=\"${2:Logger}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\"/>"
		]
	 },
	 "Database Config - MySQL": {
		"prefix": "muledx:db-config-mysql",
	  "body": [
		 "<db:config name=\"${1:DatabaseConfig}\" doc:name=\"${2:mySQL DB}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\">",
		 "  <db:my-sql-connection host=\"${3:Host}\" port=\"${4:Port}\" user=\"${5:Username}\" password=\"${6:Password}\" database=\"${7:DatabaseName}\" />",
		 "</db:config>"
	  ]
	 },
	 "Database Select": {
		"prefix": "muledx:db-select",
	  "body": [
		 "<db:select config-ref=\"${1:DatabaseConfigRef}\" doc:name=\"${2:Select}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\">",
			"  <db:sql>",
			"    <![CDATA[${3:SQL}]]>",
			"  </db:sql>",
		 "</db:select>"
	  ]
	 },
	 "Transform Message": {
		"prefix": "muledx:transform-message",
		"body": [
		 "<ee:transform doc:name=\"${1:Transform Message}\" doc:id=\"$RANDOM_HEX-$RANDOM_HEX\">",
		 "  <ee:message>",
		   "    <ee:set-payload>",
		   "      <![CDATA[${2:DataWeave}]]>",
		   "    </ee:set-payload>",
		   "  </ee:message>",
		   "</ee:transform>"
		]
	 }
  }
--

== Next Step

* xref:create-basic-integration.adoc[Create a Basic Integration]. +
Learn the basics to develop your first basic integration.
