= Deploy a Mule Application to CloudHub
:page-deployment-options: cloud-ide, desktop-ide

include::reuse::partial$beta-banner.adoc[tag="anypoint-code-builder"]

//LOGO (web, desktop, or both)
// include::partial$acb-ide-logos.adoc[tags="both-ides"]

You can use Anypoint Code Builder to deploy your Mule application to CloudHub.

Anypoint Code Builder can only deploy applications to CloudHub 1.0.

== Before You Begin

Before you begin, ensure that:

* You are logged in to Anypoint Platform. See xref:log-in-anypoint-platform.adoc[] for more information.
* Your Anypoint Platform user has the necessary permissions to deploy to CloudHub. +
See xref:access-management::permissions-by-product.adoc#runtime-manager[Available Runtime Manager Permissions] for more information.

== Deploy to CloudHub

To deploy an application to CloudHub you must configure a `deploy.json` file in the `src/main/resources` directory of your Mule application project. If your project does not have a `deploy.json` file, Anypoint Code Builder will automatically create one the first time you deploy your application:

. In Anypoint Code Builder, open your Mule configuration file, and select the *Deploy to CloudHub* icon image:deploy-to-cloudhub-icon.png[20,20].
+
image::deployment-icon-location.png[Deploy to CloudHub icon highlighted on top of the editors.]
+
Alternatively, open the Command Palette by pressing Ctrl+Shift+p (Windows) or Cmd+Shift+p (Mac) and providing the following command:
+
[source,command]
----
MuleSoft: Deploy to CloudHub
----
. If your project does not have a `deploy.json` file created, Anypoint Code Builder prompts that a deployment configuration file has been created and opens it for you to review:
+
[source,json]
--
{
  "runtime": "4.4.0",
  "workerSize": 0.1,
  "applicationName": "my-mule-application", //<1>
  "workers": 1,
  "autoStart": true
}
--
+
[calloutlist]
.. The `applicationName` property defines part of the URL that you use to access your application on CloudHub. +
The name must be unique across all applications deployed to CloudHub.
. After reviewing the deployment configuration, select *Deploy* to deploy the application to CloudHub.
+
image::deploy-config-created.png[Deployment configuration file created pop-up message]
. Select your preferred environment.
+
image::select-deployment-environment.png[Environment selection drop-down]
+
Anypoint Code Builder packages the application and deploys it to CloudHub.

After the deployment completes, Anypoint Code Builder enables you to open the application on Runtime Manager.


== Redeploy to CloudHub

After you deploy a Mule application to CloudHub, you can still modify it and redeploy it with your new changes. The application that's running on CloudHub will be overwritten.

To redeploy a Mule application to CloudHub:

. In Anypoint Code Builder, open your Mule configuration file, and select the *Deploy to CloudHub* icon image:deploy-to-cloudhub-icon.png[20,20].
. Select your preferred environment.
+
image::select-deployment-environment.png[Environment selection drop-down]
. If there's already an application with the same `applicationName` already deployed to the same environment on CloudHub, Anypoint Code Builder prompts you to redeploy the application.
+
image::re-deploy-to-cloudhub-prompt.png[Pop-up message prompt to redeploy to CloudHub]
+
Anypoint Code Builder packages the application and deploys it to CloudHub.

After the redeployment completes, Anypoint Code Builder enables you to open the application on Runtime Manager.
