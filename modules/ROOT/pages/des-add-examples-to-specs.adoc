= Adding Examples to API Specifications

include::reuse::partial$beta-banner.adoc[tag="anypoint-code-builder"]

//LOGO (web, desktop, or both)
include::partial$acb-ide-logos.adoc[tags="both-ides"]

Add API fragments from Exchange or create your own example, and then add add them to your API specification.

== Before You Begin

Before adding examples:

* xref:setup.adoc[Set up and access the web or desktop IDE].
* xref:des-create-api-specs.adoc[Create an API specification].
* Review the xref:user-guide.adoc[Tutorial] for tips on autocomplete.


== Add Fragments from Exchange to Your Project

To add fragments to the project directory so that you can include them in your specification:

. In Anypoint Code Builder, open your API specification. For example, `my-project-name`.
// Pointer to Command Palette
include::partial$acb-reusable-steps.adoc[tags="use-command-palette"]
+
[source,command]
----
MuleSoft: Add Fragment dependency from Exchange
----
. If prompted, log in to Anypoint Platform.
. In the *Search for Asset* field, provide the name of the data type asset to add. For example:
+
[source,command]
----
Training: American Flight Data Type
----
. Select the asset from the *Assets From Exchange* menu.
. Select a version of the asset.
. Follow steps 2-6 to add another fragment. For example:
+
[source,command]
----
Training: American Flights Example
----
. Check that the assets appear in your project's `exchange_modules/` directory. For example: 
+
image:exchange-modules.png[exchange_modules directory]

[[include-fragments]]
== Include the Fragments in the Specification

Use `!include` directives to add the fragments to the specification:

. Open your `my-project-name` file from the project directory in Explorer.
. Specify `!include` directives to add the fragments to your specification.
+
For example, this `!include` directive adds the `AmericanFlight` object from `AmericanFlightDataType.raml` as a data type:
+
[source,RAML]
--
types:
  AmericanFlight: !include exchange_modules/68ef9520-24e9-4cf2-b2f5-620025690913/training-american-flight-data-type/1.0.1/AmericanFlightDataType.raml 
--
+
Anypoint Code Builder auto-completes as you type.
+
This directive:
+
** Sets the format of the body of the response to JSON (`application/json`).
** Configures the type of the response as an array of `AmericanFlight` objects (`AmericanFlight[]`).
** Adds the `AmericanFlightsExample.raml` example.
+
[source,RAML]
--
responses:
  200:
    body:
      application/json:
        type: AmericanFlight[]
        examples:
          output: !include exchange_modules/68ef9520-24e9-4cf2-b2f5-620025690913/training-american-flights-example/1.0.1/AmericanFlightsExample.raml 
--

[[post-response-example]]
== Create and Include an Example in Your Specification

You can create an example in your project and include it in your specification.

. In the Explorer, right-click on an empty space, and create a folder named `examples`.
. In the `examples` folder, create a new file and add your example code. For example:
+
[source,raml]
--
#%RAML 1.0 NamedExample
value:
    ID: 1
    code: ER38sd
    price: 400
    departureDate: 2017/07/26
    origin: CLE
    destination: SFO
    emptySeats: 0
    plane:
      type: Boeing 737
      totalSeats: 150
--
. In your `my-project-name` file, include the file you just created.
+
For example, this directive adds your example from the `/examples` directory:
+
[source,raml]
--
examples:
  output: !include examples/myExample.raml 
--