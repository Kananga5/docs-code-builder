= Creating API Specifications
// need to reconcile with changes to tut-design-api-specification-from-scratch

include::reuse::partial$beta-banner.adoc[tag="anypoint-code-builder"]

Use Anypoint Code Builder to create, test, synch with Design Center, and publish a basic RAML API specification to Exchange:

. <<design-new-api-spec>>
. <<add-resources-and-methods>>
. <<add-query-params-nested-resources>>
. <<add-nested-resources-methods>>
. <<review-spec-console>>

After creating, testing, synchronizing, and publishing your API specification, you can xref:imp-implementing-api-specs.adoc[implement the specification] within an integration.


== Before You Begin

* Set up and access the web or desktop IDE. See xref:setup.adoc[] for guidance.
* Have some familiarity with xref:access-management::business-groups.adoc[business groups].
+
API specifications belong to a business group.
* Review the xref:user-guide.adoc[Tutorial] for tips on autocomplete.

[[design-new-api-spec]]
== Create a New API Specification Project

To create a new API specification project:

. In the activity bar of the IDE, click the *Anypoint Code Builder* (MuleSoft) icon to navigate to Anypoint Code Builder.
. From *Quick Actions*, click *Design an API*.
. Complete the *API Specification* form and click *Create Project*.
+
NOTE: The business group you select is permanent and cannot change after you create your API specification.
+
If prompted, trust the authors of the files in the folder.
+
When the project is ready for editing, the API project and specification open in the IDE.

[[add-resources-and-methods]]
== Add Resources and Methods to Your Specification

. In the `<project-name>.raml` file, add your first resource. For example:
+
[source,raml,linenums]
--
#%RAML 1.0
title: My New API

/flights:
--

. Add methods to the resource. For example:
+
[source,raml,linenums]
--
/flights:
  get:
  post:
--

[[add-query-params-nested-resources]]
== Add Query Parameters for Your Resources

In the `<project-name>.raml` file, add query parameters to a method. For example:

[source,raml,linenums]
--
/flights:
  get:
    queryParameters:
      destination:
        required: false
        enum:
          - SFO
          - LAX
          - CLE
--

[[add-nested-resources-methods]]
== Add Nested Resources and Methods

In the `<project-name>.raml` file, add nested resources and methods. For example:

[source,raml,linenums]
--
  post:

  /{ID}:
    get:
--

[[review-spec-console]]
== Review Your Specification in the API Console

Click the *API Console* icon to display your specification in the console.

// Replace image with picture of icon and new contents.

image::sub-methods-api-console.png["API Console with methods, query parameters, and nested resources"]
