= Import an API From Exchange

include::reuse::partial$beta-banner.adoc[tag="anypoint-code-builder"]

You can import a published API specification from Exchange as a dependency in your project to later scaffold the necessary flows for each endpoint:

. In Anypoint Code Builder, open your `american-ws-anypoint-code-builder.xml` file.
. Open the Command Palette by pressing Ctrl+Shift+p (Windows) or Cmd+Shift+p (Mac), and provide the following command:
+
[source,command]
----
MuleSoft: Import Asset from Exchange
----
+
image::import-asset-exchange-implementation.png[]
. Type the type of asset you want to import:
* `_REST API_`.
+
image::rest-api-asset-type.png[]
. Type the name of the API you want to import:
* `_American Flights API ACB_`.
+
image::select-api-asset-from-exchange.png[]
. Select the version of the API you want to import:
* `_1.0.0_`
+
image::select-api-asset-version.png[]
. Select *Yes* when prompted to scaffold the API dependency.
+
image::scaffold-option-yes.png[]
+
This step adds the API specification as a dependency in your project's `pom.xml` file and creates a new file called `american-flight-api-acb.xml`:
+
image::scafolded-mule-config-file.png[]

== Examine the XML file created

Anypoint Code Builder displays the main flow scaffolded from your API specification.

image::scafolded-flow-canvas.png[]

Open the `american-flight-api-acb.xml` file and locate the flows created for these endpoints:

* `get:\flights`
* `post:\flight`
* `get:\flights{ID}`:

[source,xml,linenums]
--
<flow name="get:\flights:american-flight-api-config">
</flow>

<flow name="post:\flights:application\json:american-flight-api-config">
</flow>

<flow name="get:\flights\(ID):application\json:american-flight-api-config">
</flow>
--

Additionally, you can use the *Flow List* panel to navigate through flows:

. Select the *Flow List* panel to expand it.
+
image::outline-list-location.png[]
. Select the flow to which you want to navigate.
+
image::outline-list-select-flow.png[]
+
Selecting a flow from the flow list highlights that same flow in your Mule configuration file.


Anypoint Code Builder creates other automatically generated components related to error handling:

[source,xml]
--
<apikit:router config-ref="american-flights-api-config" />
<error-handler>
    <on-error-propagate type="APIKIT:BAD_REQUEST">

    </on-error-propagate>
    <on-error-propagate type="APIKIT:NOT_FOUND">

    </on-error-propagate>
    <on-error-propagate type="APIKIT:METHOD_NOT_ALLOWED">

    </on-error-propagate>
    <on-error-propagate type="APIKIT:NOT_ACCEPTABLE">

    </on-error-propagate>
    <on-error-propagate type="APIKIT:UNSUPPORTED_MEDIA_TYPE">

    </on-error-propagate>
    <on-error-propagate type="APIKIT:NOT_IMPLEMENTED">

    </on-error-propagate>
</error-handler>
--

== Next Step

* xref:implement-api-interface-logic.adoc[Implement the API Interface Logic]. +
Build over your API and define your flow's logic to handle requests to your implemented API back to your database integration.
