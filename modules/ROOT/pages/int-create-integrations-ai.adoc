= Creating Integrations Using Einstein

The Generative Flow feature transforms your natural language prompt, which describes your business logic, into a flow that contains the connectors and components, in the order needed, to accomplish the specified task. 

For example, if you want to create a flow that reads contacts from Salesforce in JSON format, you can enter a prompt describing that task. The prompt is then transformed into a series of connectors and processors that are needed to execute that task, in this case: `Listener`, `Query`, `Transformer`, and `Logger`. A flow is generated, which you can then further customize to suit your needs. 


== Before You Begin

Before you start creating your integration using Generative Flows:

* xref:start-acb.adoc[Set up and access the web or desktop IDE].
* Ensure that you have the following permissions to use the Generative Flow feature:
** Anypoint Code Builder Developer
** Mule Developer Generative AI User
+
If you see the *Start with AI* card in the canvas when you start building a new integration, you have the correct permissions.

[[create-integration-project]]
== Create a New Integration Project

To create a new integration project:

// Open the ACB IDE
include::partial$acb-reusable-steps.adoc[tags="open-ide"]
. From *Quick Actions*, click *Develop an Integration*:
+
image::develop-integration-option-mat.png["Develop an Integration link highlighted in the Getting started section"]

. Complete the *Develop an Integration* form.
+
[%header,cols="20a,60a"] 
|===
| Field Name | Field Value

| *Project Name* | Unique name for your project.

This name is used as the title and name of the integration specification file.
For example, if the project name is "My Integration", the name of the folder for the integration project is `my-integration`, and the configuration XML file name is `my-integration.xml`.
| *Project Location* | Your home directory or another directory you create. Click *Browse* to select a directory for the integration if you don't want to use the default.
|===
+
. Click *Create Project*.
+
The flow builder canvas appears with the following starting cards, *Start with AI* and *Start From Scratch*:

image::int-gen-flow-starting-cards.png[Starting cards on new project canvas]

You can either:

* Click *Open Einsten* in the *Start with AI* card to use the generative flow feature.
* Click the *Build a flow* in the *Start From Scratch* card to begin building your flow from scratch.

[[craft-ai-prompt]]
== Craft Your Prompt

Before you create a flow, define what you want achieve with the flow, for example, optimizing a business process. Craft your prompt using natural language, and keep in mind that the more concise and specific you make your prompt, the more effective it will be when it generates your flow. 

Here are some best practices for writing prompts:

* Be clear and precise:
+ 
Use clear and specific language to describe the use case for the flow to build.
* Include trigger events: 
+
Mention the trigger events that initiate the flow, for example, sending an email when a new case is created. 
* Emphasize key components:
+
Highlight the key MuleSoft components to include in the flow, for example, HTTP *Listener* and Email *Send*.
* Specify data objects:
+
* Clearly mention the data objects to include in the flow, such as "Salesforce Account object" or any other relevant data source.
* Proofread and revise:
+
Before submitting the prompt, proofread your prompt to ensure that it is clear and comprehensive.

After the initial flow is generated for you, you can then customize the code for your specific needs.

[[view-prompt-history]]
== View Your Prompt History

The prompt history for a project shows the previous 50 prompts for that project. The prompt history can be helpful for reference during the development process.

To see the prompt history:

. Click the open prompt history icon: 
+
image::int-view-prompt-history.png[Einstein panel with arrow pointing to open prompt history clock icon]
+
A list of the last 50 queries is displayed. 
. Click on a prompt in the list to see the details of the generated flow. 
+
You can insert the code that was generated into your flow, or you can copy the code snippet and use or modify it elsewhere. 


[[create-gen-flow]]
== Add a Flow to Your Project

Use the Generaive Flow feature to add a flow to your integration project.

. In the *Start with AI* card, click *Open Einstein*.
+
Optionally, click on either of the example prompts on the *Start with AI* card to get an idea of how this feature works.
. If this is the first time you are using this feature, agree to the terms, and continue. 
+
The *Einstein* panel opens.
+
image::acb-einstein-panel.png["Einstein panel with welcome message, two example prompts, and empty prompt field"]
+
. Enter the prompt to create the initial flow for your task and click the send icon image:icon-send-prompt.png[""].
+
Optionally, click on one of the supplied example prompts to get started.
+
While your flow is generated, you see the message `Einstein is thinking` in the prompt box.
+
When your flow is ready, the code and a description of the components of the flow appear in the *Einstein* panel. 
+
image::acb-generated-case-notification-email.png[]
. Optionally, click the thumbs up or thumbs down icon that appears after the generated code. 
+
//I made this up. Does this work this way?
Rating the flow that's created for you helps Einstein learn so that over time, the generated flows improve.
. Inspect the generated code, and if you are satisfied, click the insert code icon to insert the code in to your flow. 
+
If you aren't satisfied with the generated flow, reword your prompt and send it again. 
//probably need screenshot
. After the code is inserted, the initial flow is built and the visual representation of the flow is displayed in the canvas next to the XML code tab. 
+
The error icon is displayed for components that require further configuration. 
+
To determine where the error is, select the component in the canvas.
Anypoint Code Builder highlights the location of the error within the configuration XML.


[[customize-gen-flow]]
== Complete Your Flow

Generative Flow builds the initial flow for you so that all you need to do is fill in the information that's specific to your configuration. 



== See Also

* xref:int-create-integrations.adoc[]
* xref:acb-components.adoc[]