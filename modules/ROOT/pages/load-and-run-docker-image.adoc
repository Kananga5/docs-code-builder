= Load and Run the Docker Image

To run Anypoint Code Builder you must install Docker on your machine and load the Anypoint Code Builder Docker image distribution.

Docker Desktop is an application for your macOS or Windows environment used to run and share containerized applications. During the beta 1 release, Anypoint Code Builder is a containerized application that you can run on your local machine using Docker Desktop.

== Before You Begin

* Install Docker Desktop on your machine. +
Follow the https://www.docker.com/get-started/[Docker Get Started Instructions^] for more information.
* Download the https://drive.google.com/file/d/1WTwn1sZZYVSVRmgYmiVuFkZCK9pee7cC/view[Anypoint Code Builder Docker image^]. +
* Ensure you have an Anypoint Platform account.

== Load The Anypoint Code Builder Image to Docker

To run the Anypoint Code Builder you must load its Docker image to your local Docker installation:

=== Windows

. Open the Docker Desktop application.
. Open a terminal window and navigate to the directory where you downloaded the Anypoint Code Builder Docker image:
+
[source,powershell]
--
cd \Users\user\Downloads
--
. Run the following command to unzip the Docker image and load it to your Docker Desktop installation:
+
[source,powershell]
--
docker load < mule-dx-dist-vxx.x.x.tar.gz //<1>
--
+
<1> Replace `vxx.x.x` with the version of the Docker image you downloaded.

Note that this step might take several minutes to complete.

In your Docker Desktop application, select *Images* from the left side navigation bar. +
Ensure that the Anypoint Code Builder image is loaded.

image::docker-images.png[]

=== macOS

.macOS
[source,bash]
--
cd ~/Downloads/
--
. Run the following command to unzip the Docker image and load it to your Docker Desktop installation:
+
[source,bash]
--
gunzip -c mule-dx-dist-vxx.x.x.tar.gz \ //<1>
| docker load
--
<1> Replace `vxx.x.x` with the version of the Docker image you downloaded.

Note that this step might take several minutes to complete.

In your Docker Desktop application, select *Images* from the left side navigation bar. Ensure that the Anypoint Code Builder image is loaded:

image::docker-images.png[]


== Run Anypoint Code Builder

With the image loaded to Docker, you can run Anypoint Code Builder:

=== Windows

. Open your Docker application, navigate to your *Images* tab, and select *Run*.
+
image::windows-docker-run-image.png[]
. In the *Run new container* pop-up, expand the *Optional settings* option:
+
image::windows-expand-optional-settings.png[]
. Set your *Host port* value to `_8080_`, and select *Run*.
+
image::windows-set-port-run.png[]
. After your container is running, open a new browser window and navigate to `localhost:8080`.

When you run Anypoint Code Builder for the first time, an instance of Mule Runtime Engine loads and requires you to reload your Anypoint Code Builder instance. When prompted, select *Reload*.

[CAUTION]
--
Ensure to keep only one browser tab running Anypoint Code Builder. Multiple browser tabs cause the application to stall.
--


=== macOS

. Run the following command:
+
[source,bash]
--
docker run -i --rm --name mule-dx -d -p8080-8100:8080-8100 \
-v $HOME:$HOME \
artifacts.msap.io/mulesoft/mule-dx-dist:vxx.x.x \ //<1>
&& sleep 3 \
 && open http://localhost:8080
--
<1> Replace `vxx.x.x` with the version of the Docker image you downloaded.
. A new tab in your browser opens showing an instance of Anypoint Code Builder.

When you run Anypoint Code Builder for the first time, an instance of Mule Runtime Engine loads and requires you to reload your Anypoint Code Builder instance. When prompted, select *Reload*.

[CAUTION]
--
Ensure to keep only one browser tab running Anypoint Code Builder. Multiple browser tabs cause the application to stall.
--

== Stop Running Anypoint Code Builder

To stop your Anypoint Code Builder container:

=== Windows

. Navigate to your *Containers* tab on your Docker application.
. On the running container, select *Stop*.
+
image::windows-stop-container.png[]

=== macOS

. Run the following command:
+
[source,bash]
--
docker stop mule-dx
--
