= Synchronize Changes with Design Center

Anypoint Code Builder has integrated source control management (SCM) and includes Git support.

Use the integrated SCM in Anypoint Code Builder to synchronize your local API with Anypoint Design Center.


== Before You Begin

Before getting started, ensure you:

* Set up your MuleSoft environment. +
See xref:setup.adoc[] for more information.
* Created a basic structure for your API specification. +
See xref:design-api-specification.adoc[].
* Configured request and response data for  your API specification. +
See xref:design-api-specification.adoc[].


== Reviewing Changes in Files

Anypoint Code Builder highlights differences made in files since you last synchronized them with the main branch on Design Center.

When you change your API specification, the Source Control icon in the Activity Bar on the left shows you an overview of how many changes you currently have. Selecting the icon shows you the details of your current changes: *CHANGES*, and *STAGED CHANGES*:

image::changes-and-staged-changes.png[]

To review your changes to your API specification:

. In Anypoint Code Builder, select your Source Control view.
. Open your `exchange.json` file.
. Review the working tree and see how deletions (red) and additions (green) are highlighted.
+
image::explore-changes-api-specification.png[]
+
In this case, you added some dependencies to the API by reusing API fragments you downloaded from Anypoint Exchange.

== Staging Your Changes Individually

The `git add` command adds a change from your working directory to the staging area. This command informs Git that you want to include updates to a particular file in the next commit. In Anypoint Code Builder you can do this by using the buttons in the UI:

. In Anypoint Code Builder, select your Source Control view.
. Select the plus icon next to `american-flight-api.raml`.
+
image::stage-american-flights-api.png[]
. Review the changes in the Source Control view. Note that the file has moved into *Staged Changes*.
+
image::staged-changes.png[]

Additionally, you can perform these actions using the embedded command line.

=== Staging Multiple Changes

You can add multiple files at the same time:

. In Anypoint Code Builder, select your Source Control view.
. Click the plus icon in the section header to stage the remaining changes.
+
image::stage-all-changes.png[]

Additionally, you can perform these actions using the embedded command line.

== Committing Changes

Use the `git commit` command to save the changes you staged earlier to your local repository:

. In Anypoint Code Builder, select your Source Control view.
. Click in the message box at the top of the view.
. Enter a message that summarizes the change or changes being made.
+
image::add-commit-message.png[]
+
A good commit message helps summarize the changes being made across multiple files by multiple developers.
. Click the tick mark in the *Source Control* header to commit the changes.
+
image::commit-changes.png[]
. Your Source Control view now shows no changes to commit.


== Pushing changes to Anypoint Design Center

Use the `git push` command to upload your local content to Anypoint Design Center:

. In Anypoint Code Builder, select your Source Control view.
. Select the three dots that appear in the *Source Control* header.
. Select *Push*.
+
image::push-changes.png[]

Your changes are now published in Design Center.

The integrated SCM within Anypoint Code Builder might prompt you to `peridoically run 'git fetch'`. This option enables Anypoint Code Builder to check for updates of your API in Design Center and prompt you to update your local version of the API.

image::fetch-periodically-check.png[]

== Next Step

* xref:publish-api-spec-to-exchange.adoc[Publish an API Specification to Exchange]. +
Publish your API specification to Exchange as a new asset and make it discoverable to your entire team.
